# Documentation Update Plan for Agoras v2.0

This plan outlines the steps to update the Agoras documentation to reflect the new v2.0 modular architecture (`agoras-common`, `agoras-media`, `agoras-core`, `agoras-platforms`, `agoras-cli`).

**Location**: `.cursor/plans/update-docs/UPDATE_DOCS_PLAN.md`
**Status**: Draft
**Prerequisites**: Package split (Phase 4 of Package Split Plan) should be substantially complete.

## Week 1: Analysis, Infrastructure & Core Guides

**Goal**: Prepare the documentation build system for the monorepo structure and write the essential migration guides.

- **Day 1: Audit & Analysis**
  - [ ] Audit `docs/api/` to map existing `.rst` files to new package locations.
  - [ ] Identify all hardcoded references to `agoras.core` in text files.
  - [ ] Review `docs/conf.py` and `docs/Makefile` for necessary build changes.

- **Day 2: Landing Page & README**
  - [ ] Update `README.rst`: Highlight the new modular architecture.
  - [ ] Update `docs/index.rst`: Reorganize the table of contents to reflect the new structure.
  - [ ] Add "What's New in v2.0" section to the landing page.

- **Day 3: Migration Guide (Critical)**
  - [ ] Create `docs/v2-migration/migration-guide.rst` (or update existing `migration.rst`).
  - [ ] Document the new `pip install` patterns (e.g., `pip install agoras-core` vs `pip install agoras`).
  - [ ] Create a comprehensive "Import Mapping" table (Old Import -> New Import).
  - [ ] Explain the removal of the monolithic `agoras` package structure.

- **Day 4: Installation Guide**
  - [ ] Rewrite `docs/installation.rst`.
  - [ ] Add sections for installing individual packages (`agoras-media` only, `agoras-core` only).
  - [ ] Add "Full Installation" instructions (`pip install agoras`).
  - [ ] Document development installation (installing from `packages/` source).

- **Day 5: Build Configuration (Sphinx)**
  - [ ] Update `docs/conf.py`:
    - Modify `sys.path` insertion to include `packages/common/src`, `packages/media/src`, etc.
    - Ensure `autodoc` can find all new namespace packages.
    - Mock external dependencies if necessary for building docs.
  - [ ] Verify `make html` builds without import errors.

## Week 2: API Documentation Overhaul

**Goal**: Update the autogenerated API references to match the new 5-package structure.

- **Day 1: Common & Media Packages**
  - [ ] Create/Update `docs/api/common.rst`: Document `agoras.common` (utils, logger).
  - [ ] Create/Update `docs/api/media.rst`: Document `agoras.media` (Image, Video, Factory).
  - [ ] Ensure cross-references work (e.g., Core depends on Media).

- **Day 2: Core Package**
  - [ ] Create/Update `docs/api/core.rst`: Document `agoras.core` (SocialNetwork interface, BaseAPI).
  - [ ] Document Auth subsystem (`agoras.core.auth`).
  - [ ] Document Feed and Sheet logic (`agoras.core.feed`, `agoras.core.sheet`).

- **Day 3: Platforms Package (Part 1)**
  - [ ] Create/Update `docs/api/platforms.rst`.
  - [ ] Document `agoras.platforms.facebook`, `agoras.platforms.twitter`, `agoras.platforms.instagram`.
  - [ ] Ensure platform-specific parameters are correctly documented via docstrings.

- **Day 4: Platforms Package (Part 2)**
  - [ ] Document remaining platforms: `linkedin`, `discord`, `youtube`, `tiktok`, `threads`, `telegram`, `whatsapp`.
  - [ ] Verify that `agoras.platforms.<platform>.client` and `wrapper` are properly exposed if public.

- **Day 5: CLI & Verification**
  - [ ] Create/Update `docs/api/cli.rst`: Document `agoras.cli` entry points.
  - [ ] Run a full documentation build (`make html`).
  - [ ] Fix all Sphinx warnings (broken references, missing imports).

## Week 3: User & Developer Experience

**Goal**: Update the "How-To" guides and developer documentation to align with the new workflow.

- **Day 1: Usage Guide**
  - [ ] Update `docs/usage.rst`.
  - [ ] Verify all CLI command examples work with the new version.
  - [ ] Update examples to show any new v2.0 capabilities (e.g., better error handling).

- **Day 2: Contributing Guide**
  - [ ] Rewrite `CONTRIBUTING.rst` or `docs/contributing.rst`.
  - [ ] Explain the Monorepo structure to contributors.
  - [ ] Document how to run tests for specific packages (e.g., `tox -e py39 -c packages/core/tox.ini`).
  - [ ] Explain the release process for multiple packages.

- **Day 3: Platform Specific Docs**
  - [ ] Review individual platform pages (e.g., `docs/twitter.rst`, `docs/facebook.rst`).
  - [ ] Update any snippets that showed python code usage (imports need to change).
  - [ ] Update CLI parameter tables if any defaults changed.

- **Day 4: CLI Parameters & FAQ**
  - [ ] Update `CLI_PARAMETERS.md` (if used as source for docs) or `docs/reference/parameters.rst`.
  - [ ] Add a "Frequently Asked Questions" section regarding the v2 migration.

- **Day 5: Final Polish & Release**
  - [ ] Proofread all new sections.
  - [ ] Check for dead links (`make linkcheck`).
  - [ ] Update `HISTORY.rst` (Changelog) with the v2.0 release notes.
  - [ ] Prepare the documentation for publication to ReadTheDocs.
